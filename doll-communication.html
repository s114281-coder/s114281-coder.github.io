<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éµç›¤æ“ç¸±å¨ƒå¨ƒç¶²é </title>
    <link rel="icon" href="a18394808e9a2a23.webp">
    <style>
        /* -------------------- CSS æ¨£å¼ -------------------- */
        
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            background-color: #f4f4f9;
        }

        /* å¨ƒå¨ƒèˆå° */
        #stage {
            position: relative;
            /* è«‹æ ¹æ“šæ‚¨çš„å¨ƒå¨ƒå¤§å°èª¿æ•´èˆå°å°ºå¯¸ */
            width: 400px; 
            height: 550px; 
            border: 2px solid #333;
            background-color: #fff;
            margin-bottom: 20px;
            overflow: hidden; /* ç¢ºä¿è‚¢é«”ä¸æœƒè·‘å‡ºèˆå° */
        }

        /* å¨ƒå¨ƒè‚¢é«”å…±åŒæ¨£å¼ */
        .puppet-part {
            position: absolute;
            /* åœ–ç‰‡é è¨­å¤§å°ï¼Œè«‹æ ¹æ“šæ‚¨è‡ªå·±çš„åœ–ç‰‡èª¿æ•´ */
            width: auto; 
            height: auto;
            max-width: 100%;
            /* ç¢ºä¿èº«é«”åœ¨æœ€ä¸‹å±¤ï¼Œå››è‚¢åœ¨ä¸Šå±¤ */
            z-index: 10; 
        }

        /* èº«é«”å®šä½ */
        #puppet-body {
            /* èº«é«”åœ–ç‰‡çš„åˆå§‹å®šä½ï¼Œè«‹å‹™å¿…æ ¹æ“šæ‚¨çš„åœ–ç‰‡é€²è¡Œèª¿æ•´ */
            top: 50px;
            left: 100px; 
            z-index: 5; /* èº«é«”åœ¨æœ€ä¸‹å±¤ */
        }

        /* å·¦è…³å®šä½èˆ‡æ—‹è½‰ä¸­å¿ƒé» */
        #puppet-left-foot {
            /* åˆå§‹å®šä½ï¼šå°‡è…³æ”¾åœ¨èº«é«”ä¸‹æ–¹å°æ‡‰çš„é«–é—œç¯€ä½ç½® */
            top: 350px; 
            left: 150px; 
            /* æ—‹è½‰ä¸­å¿ƒé»è¨­åœ¨åœ–ç‰‡é ‚ç«¯ä¸­å¤®ï¼Œæ¨¡æ“¬é«–é—œç¯€ */
            transform-origin: 50% 0%; 
        }

        /* å³æ‰‹å®šä½èˆ‡æ—‹è½‰ä¸­å¿ƒé» */
        #puppet-right-hand {
            /* åˆå§‹å®šä½ï¼šå°‡æ‰‹æ”¾åœ¨èº«é«”å´é‚Šå°æ‡‰çš„è‚©è†€ä½ç½® */
            top: 100px; 
            left: 250px; 
            /* æ—‹è½‰ä¸­å¿ƒé»è¨­åœ¨åœ–ç‰‡é ‚ç«¯ä¸­å¤®ï¼Œæ¨¡æ“¬è‚©è†€ */
            transform-origin: 50% 0%; 
        }

        /* æç¤ºè³‡è¨Š */
        #controls-info {
            font-size: 1.1em;
            color: #555;
            padding: 15px;
            border: 1px dashed #aaa;
            background-color: #e9e9f9;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <h1>ğŸ§¸ éµç›¤æ“ç¸±å¨ƒå¨ƒèˆå°</h1>

    <div id="controls-info">
        <h3>âŒ¨ï¸ éµç›¤æ§åˆ¶æŒ‡ä»¤ (æ—‹è½‰æ“ºå‹•)</h3>
        <ul>
            <li>**å·¦è…³æ§åˆ¶**ï¼š**A éµ** (å‘å·¦æ“º) / **D éµ** (å‘å³æ“º)</li>
            <li>**å³æ‰‹æ§åˆ¶**ï¼š**å·¦ç®­é ­ â†** (å‘å·¦æ“º) / **å³ç®­é ­ â†’** (å‘å³æ“º)</li>
        </ul>
        <p style="color: red;"><strong>æ³¨æ„ï¼š</strong> è«‹ç¢ºä¿ `body.png`, `left_foot.png`, `right_hand.png` ç­‰åœ–ç‰‡æª”å­˜åœ¨æ–¼æ­¤ HTML æª”çš„ç›¸åŒè³‡æ–™å¤¾ä¸­ã€‚</p>
    </div>

    <div id="stage">
        <img id="puppet-body" src="body.png" class="puppet-part" alt="å¨ƒå¨ƒèº«é«”">
        
        <img id="puppet-left-foot" src="left_foot.png" class="puppet-part" alt="å¨ƒå¨ƒå·¦è…³">
        
        <img id="puppet-right-hand" src="right_hand.png" class="puppet-part" alt="å¨ƒå¨ƒå³æ‰‹">
        
        </div>

    <script>
        /* -------------------- JavaScript é‚è¼¯ -------------------- */

        // --- æ ¸å¿ƒè¨­å®š ---
        const ROTATE_STEP = 15; // æ¯æ¬¡æ—‹è½‰çš„è§’åº¦ (åº¦)

        // è‚¢é«”å…ƒç´ 
        const leftFoot = document.getElementById('puppet-left-foot');
        const rightHand = document.getElementById('puppet-right-hand');

        // è‚¢é«”ç•¶å‰æ—‹è½‰è§’åº¦è®Šæ•¸ (åˆå§‹ç‚º 0 åº¦)
        let leftFootAngle = 0;
        let rightHandAngle = 0;

        // --- æ ¸å¿ƒæ—‹è½‰å‡½å¼ ---
        function updateRotation(element, angle) {
            // ä½¿ç”¨ transform: rotate é€²è¡Œæ—‹è½‰
            element.style.transform = `rotate(${angle}deg)`;
        }


        // --- éµç›¤äº‹ä»¶è™•ç†å‡½å¼ ---
        document.addEventListener('keydown', (event) => {
            // é é˜²ç€è¦½å™¨é è¨­å‹•ä½œ (ä¾‹å¦‚æ–¹å‘éµæ»¾å‹•é é¢)
            if (['KeyA', 'KeyD', 'ArrowLeft', 'ArrowRight'].includes(event.code)) {
                event.preventDefault(); 
            }

            switch (event.code) {
                // --- å·¦è…³æ§åˆ¶ (A/D éµ) ---
                case 'KeyA': // A éµï¼šå·¦è…³å‘å·¦ (é€†æ™‚é‡) æ“ºå‹•
                    leftFootAngle -= ROTATE_STEP;
                    updateRotation(leftFoot, leftFootAngle);
                    break;
                case 'KeyD': // D éµï¼šå·¦è…³å‘å³ (é †æ™‚é‡) æ“ºå‹•
                    leftFootAngle += ROTATE_STEP;
                    updateRotation(leftFoot, leftFootAngle);
                    break;

                // --- å³æ‰‹æ§åˆ¶ (æ–¹å‘éµ) ---
                case 'ArrowLeft': // å·¦ç®­é ­éµï¼šå³æ‰‹å‘å·¦ (é€†æ™‚é‡) æ“ºå‹•
                    rightHandAngle -= ROTATE_STEP;
                    updateRotation(rightHand, rightHandAngle);
                    break;
                case 'ArrowRight': // å³ç®­é ­éµï¼šå³æ‰‹å‘å³ (é †æ™‚é‡) æ“ºå‹•
                    rightHandAngle += ROTATE_STEP;
                    updateRotation(rightHand, rightHandAngle);
                    break;

                default:
                    return; // å¿½ç•¥å…¶ä»–æŒ‰éµ
            }
        });
        
        // --- åœ–ç‰‡è¼‰å…¥éŒ¯èª¤è™•ç†ï¼ˆå¯é¸ï¼‰---
        // ç•¶åœ–ç‰‡è·¯å¾‘éŒ¯èª¤æ™‚ï¼Œçµ¦äºˆä½¿ç”¨è€…æç¤º
        document.querySelectorAll('.puppet-part').forEach(img => {
            img.onerror = function() {
                console.error(`ç„¡æ³•è¼‰å…¥åœ–ç‰‡: ${this.src}. è«‹æª¢æŸ¥åœ–ç‰‡æª”æ¡ˆåç¨±å’Œè·¯å¾‘æ˜¯å¦æ­£ç¢ºã€‚`);
                this.style.border = '2px solid red';
                this.alt = 'åœ–ç‰‡éŒ¯èª¤ï¼';
            };
        });

    </script>
</body>
</html>
