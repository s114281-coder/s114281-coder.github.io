<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ä¸ƒåˆ†æ¥µé™æŒ‘æˆ°è³½</title>
    <style>
        /* åŸºç¤æ¨£å¼ */
        body { background: #000; color: #fff; text-align: center; font-family: sans-serif; padding: 20px; }
        .screen { display: none; padding: 20px; border: 2px dashed #444; margin-top: 20px; }
        .active { display: block; }
        
        /* è¶…å¤§æŒ‰éˆ• - ç¢ºä¿å¥½é»æ“Š */
        .big-btn { 
            width: 80%; padding: 30px; margin: 10px auto; 
            font-size: 24px; font-weight: bold; cursor: pointer;
            border-radius: 15px; border: none; display: block;
        }
        
        #ball { 
            width: 80px; height: 80px; border-radius: 50%; 
            position: absolute; display: none; cursor: pointer;
            border: 4px solid white;
        }
        #area { 
            width: 100%; height: 300px; background: #111; 
            border: 2px solid #38bdf8; position: relative; margin-top: 10px;
        }
    </style>
</head>
<body>

    <h1 style="color:#38bdf8;">ä¸ƒåˆ†æ¥µé™æŒ‘æˆ°è³½</h1>

    <button onclick="alert('JavaScript æ­£å¸¸é‹ä½œä¸­ï¼')" style="background: #eab308; padding: 10px;">é»æˆ‘æ¸¬è©¦ç¨‹å¼æ˜¯å¦æœ‰åæ‡‰</button>

    <div id="step1" class="screen active">
        <h3>ğŸ§¸ ç¬¬ä¸€æ­¥ï¼šé»æ“Šä¸‹æ–¹æŒ‰éˆ•é¸è§’è‰²</h3>
        <button class="big-btn" style="background: gold; color: black;" onclick="toStep2('gold')">é¸æ“‡ã€é»ƒé‡‘ã€‘è§’è‰²</button>
        <button class="big-btn" style="background: cyan; color: black;" onclick="toStep2('cyan')">é¸æ“‡ã€é’è—ã€‘è§’è‰²</button>
        <button class="big-btn" style="background: magenta; color: white;" onclick="toStep2('magenta')">é¸æ“‡ã€æ¡ƒç´…ã€‘è§’è‰²</button>
    </div>

    <div id="step2" class="screen">
        <h3>âš¡ ç¬¬äºŒæ­¥ï¼šé»æ“Šé›£åº¦é–‹å§‹éŠæˆ²</h3>
        <button class="big-btn" style="background: #22c55e; color: white;" onclick="gameStart(40, 1500)">ç°¡å–®æ¨¡å¼ (40ç§’)</button>
        <button class="big-btn" style="background: #f1c40f; color: black;" onclick="gameStart(45, 1000)">ä¸­ç­‰æ¨¡å¼ (45ç§’)</button>
        <button class="big-btn" style="background: #ef4444; color: white;" onclick="gameStart(50, 700)">å›°é›£æ¨¡å¼ (50ç§’)</button>
    </div>

    <div id="step3" class="screen">
        <h2 id="info">æ™‚é–“: -- | åˆ†æ•¸: 0/7</h2>
        <div id="area">
            <div id="ball"></div>
        </div>
        <br>
        <button onclick="location.reload()">æ”¾æ£„é‡ä¾†</button>
    </div>

    <script>
        var playerColor = "";
        var score = 0;
        var timer = 0;
        var active = false;
        var moveInt;

        // å¼·åˆ¶åˆ‡æ›å‡½æ•¸
        function toStep2(c) {
            console.log("é¸æ“‡è§’è‰²: " + c);
            playerColor = c;
            // éš±è—ç¬¬ä¸€æ­¥ï¼Œé¡¯ç¤ºç¬¬äºŒæ­¥
            document.getElementById('step1').style.display = 'none';
            document.getElementById('step2').style.display = 'block';
        }

        function gameStart(s, speed) {
            timer = s;
            score = 0;
            active = true;
            
            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'block';

            var b = document.getElementById('ball');
            b.style.backgroundColor = playerColor;
            b.style.display = 'block';

            // å€’æ•¸
            var cd = setInterval(function() {
                timer--;
                document.getElementById('info').innerText = "æ™‚é–“: " + timer + "s | åˆ†æ•¸: " + score + "/7";
                if (timer <= 0) {
                    clearInterval(cd);
                    if (active) finish(false);
                }
            }, 1000);

            jump(speed);
        }

        function jump(speed) {
            if (!active) return;
            var area = document.getElementById('area');
            var b = document.getElementById('ball');
            
            b.style.left = Math.random() * (area.clientWidth - 80) + "px";
            b.style.top = Math.random() * (area.clientHeight - 80) + "px";
            
            moveInt = setTimeout(function() { jump(speed); }, speed);
        }

        document.getElementById('ball').onclick = function() {
            score++;
            document.getElementById('info').innerText = "æ™‚é–“: " + timer + "s | åˆ†æ•¸: " + score + "/7";
            if (score >= 7) finish(true);
        };

        function finish(win) {
            active = false;
            clearTimeout(moveInt);
            alert(win ? "ğŸ† æˆåŠŸï¼" : "âŒ› å¤±æ•—ï¼");
            location.reload();
        }
</script>
</body>
</html>
